<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Alishba</title>

<style>
body {
    margin: 0;
    background: #ffd6e7;
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
    flex-direction: column;
}

/* Floating <3 hearts */
.heart {
    position: absolute;
    color: #ff4d6d;
    font-size: 18px;
    animation: float 6s linear infinite;
    opacity: 0.5;
}

@keyframes float {
    0% { transform: translateY(100vh); }
    100% { transform: translateY(-10vh); }
}

/* Envelope container */
.envelope-wrapper {
    position: relative;
    width: 260px;
    height: 170px;
}

/* Envelope body */
.envelope {
    width: 100%;
    height: 100%;
    background: white;
    border-radius: 8px;
    position: relative;
    box-shadow: 0 0 35px rgba(255,105,180,0.6);
}

/* Envelope flap */
.envelope:before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 50%;
    background: #f2f2f2;
    clip-path: polygon(0 0, 50% 100%, 100% 0);
}

/* Red wax seal */
.seal {
    position: absolute;
    top: 55%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 45px;
    height: 45px;
    background: #c4002f;
    border-radius: 50%;
    box-shadow: 0 0 15px rgba(196,0,47,0.7);
}

/* Open Button */
.open-btn {
    margin-top: 25px;
    background: #ff9ecb;
    border: none;
    padding: 12px 30px;
    border-radius: 25px;
    font-size: 15px;
    color: white;
    cursor: pointer;
    box-shadow: 0 0 15px rgba(255,105,180,0.7);
    transition: transform 0.2s ease;
}

.open-btn:active {
    transform: scale(0.95);
}

/* Card */
.card {
    position: absolute;
    width: 300px;
    background: white;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 0 35px rgba(255,105,180,0.6);
    text-align: center;
    opacity: 0;
    transform: translateY(40px);
    transition: all 0.8s ease;
}

.card.show {
    opacity: 1;
    transform: translateY(0);
}

.final-btn {
    background: #ff4d6d;
    border: none;
    padding: 10px 20px;
    color: white;
    border-radius: 20px;
    margin-top: 15px;
    cursor: pointer;
}

/* Confetti */
.confetti {
    position: absolute;
    width: 8px;
    height: 8px;
    animation: fall 3s linear forwards;
}

@keyframes fall {
    0% { transform: translateY(-10vh); }
    100% { transform: translateY(100vh); }
}
</style>
</head>

<body>

<div id="envelopeSection">
    <div class="envelope-wrapper">
        <div class="envelope"></div>
        <div class="seal"></div>
    </div>
    <button class="open-btn" onclick="openCard()">Open</button>
</div>

<div class="card" id="card">
    <h2>Hi Alishba</h2>
    <p id="message"></p>
    <button class="final-btn" onclick="finalPopup()">Click Me</button>
</div>

<script>
const text = `
I hope this made you smile.

You mean more to me than words can explain.
You’re my peace, my happiness, and my favorite person.

No matter what, I’m always here for you.

– From Dayan
`;

let index = 0;

function typeWriter() {
    if (index < text.length) {
        document.getElementById("message").innerHTML += text.charAt(index);
        index++;
        setTimeout(typeWriter, 35);
    }
}

function openCard() {
    document.getElementById("envelopeSection").style.display = "none";
    const card = document.getElementById("card");
    card.classList.add("show");

    if (navigator.vibrate) {
        navigator.vibrate(120);
    }

    typeWriter();
    createConfetti();

    setTimeout(() => {
        alert("I hope you smiled");
    }, 1200);
}

function finalPopup() {
    alert("automatic together expired forever");
}

/* Floating <3 hearts */
function createHeart() {
    const heart = document.createElement("div");
    heart.classList.add("heart");
    heart.innerText = "<3";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.fontSize = (Math.random() * 15 + 15) + "px";
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 6000);
}
setInterval(createHeart, 500);

/* Confetti */
function createConfetti() {
    const colors = ["#ffb6c1", "#ff69b4", "#ffc0cb"];
    for (let i = 0; i < 40; i++) {
        const confetti = document.createElement("div");
        confetti.classList.add("confetti");
        confetti.style.left = Math.random() * 100 + "vw";
        confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 3000);
    }
}
</script>

</body>
</html>